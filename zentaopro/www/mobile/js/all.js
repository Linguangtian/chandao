/*!
 * MZUI: ranzhi - v1.0.0 - 2017-02-21
 * Copyright (c) 2017 cnezsoft.com; Licensed MIT
 */
/*! Zepto v1.1.6 - zeptojs.com/license */
var Zepto=function(){function t(t){return null==t?String(t):B[X.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function a(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function o(t){return"number"==typeof t.length}function s(t){return D.call(t,function(t){return null!=t})}function l(t){return t.length>0?T.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in L?L[t]:L[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||M[c(t)]?e:e+"px"}function p(t){var e,n;return O[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),O[t]=n),O[t]}function h(t){return"children" in t?k.call(t.children):T.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e,n){for(C in e){n&&(a(e[C])||G(e[C]))?(a(e[C])&&!a(t[C])&&(t[C]={}),G(e[C])&&!G(t[C])&&(t[C]=[]),d(t[C],e[C],n)):e[C]!==x&&(t[C]=e[C])}}function g(t,e){return null==e?T(t):T(t).filter(e)}function m(t,n,r,i){return e(n)?n.call(t,r,i):n}function v(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className||"",r=n&&n.baseVal!==x;return e===x?r?n.baseVal:n:void (r?n.baseVal=e:t.className=e)}function b(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?T.parseJSON(t):t):t}catch(e){return t}}function w(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++){w(t.childNodes[n],e)}}var x,C,T,E,S,j,$=[],k=$.slice,D=$.filter,N=window.document,O={},L={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,P=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,R=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],z=N.createElement("table"),Z=N.createElement("tr"),V={tr:N.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:Z,th:Z,"*":N.createElement("div")},U=/complete|loaded|interactive/,q=/^[\w-]*$/,B={},X=B.toString,J={},Y=N.createElement("div"),W={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},G=Array.isArray||function(t){return t instanceof Array};return J.matches=function(t,e){if(!e||!t||1!==t.nodeType){return !1}var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n){return n.call(t,e)}var r,i=t.parentNode,a=!i;return a&&(i=Y).appendChild(t),r=~J.qsa(i,e).indexOf(t),a&&Y.removeChild(t),r},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},j=function(t){return D.call(t,function(e,n){return t.indexOf(e)==n})},J.fragment=function(t,e,n){var r,i,o;return P.test(t)&&(r=T(N.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(F,"<$1></$2>")),e===x&&(e=A.test(t)&&RegExp.$1),e in V||(e="*"),o=V[e],o.innerHTML=""+t,r=T.each(k.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(i=T(r),T.each(n,function(t,e){_.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},J.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},J.isZ=function(t){return t instanceof J.Z},J.init=function(t,n){var r;if(!t){return J.Z()}if("string"==typeof t){if(t=t.trim(),"<"==t[0]&&A.test(t)){r=J.fragment(t,RegExp.$1,n),t=null}else{if(n!==x){return T(n).find(t)}r=J.qsa(N,t)}}else{if(e(t)){return T(N).ready(t)}if(J.isZ(t)){return t}if(G(t)){r=s(t)}else{if(i(t)){r=[t],t=null}else{if(A.test(t)){r=J.fragment(t.trim(),RegExp.$1,n),t=null}else{if(n!==x){return T(n).find(t)}r=J.qsa(N,t)}}}}return J.Z(r,t)},T=function(t,e){return J.init(t,e)},T.extend=function(t){var e,n=k.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},J.qsa=function(t,e){var n,i="#"==e[0],a=!i&&"."==e[0],o=i||a?e.slice(1):e,s=q.test(o);return r(t)&&s&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:k.call(s&&!i?a?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=N.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);){if(e===t){return !0}}return !1},T.type=t,T.isFunction=e,T.isWindow=n,T.isArray=G,T.isPlainObject=a,T.isEmptyObject=function(t){var e;for(e in t){return !1}return !0},T.inArray=function(t,e,n){return $.indexOf.call(e,t,n)},T.camelCase=S,T.trim=function(t){return null==t?"":String.prototype.trim.call(t)},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var n,r,i,a=[];if(o(t)){for(r=0;r<t.length;r++){n=e(t[r],r),null!=n&&a.push(n)}}else{for(i in t){n=e(t[i],i),null!=n&&a.push(n)}}return l(a)},T.each=function(t,e){var n,r;if(o(t)){for(n=0;n<t.length;n++){if(e.call(t[n],n,t[n])===!1){return t}}}else{for(r in t){if(e.call(t[r],r,t[r])===!1){return t}}}return t},T.grep=function(t,e){return D.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){B["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:$.forEach,reduce:$.reduce,push:$.push,sort:$.sort,indexOf:$.indexOf,concat:$.concat,map:function(t){return T(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return T(k.apply(this,arguments))},ready:function(t){return U.test(N.readyState)&&N.body?t(T):N.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===x?k.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return $.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):T(D.call(this,function(e){return J.matches(e,t)}))},add:function(t,e){return T(j(this.concat(T(t,e))))},is:function(t){return this.length>0&&J.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==x){this.each(function(e){t.call(this,e)||n.push(this)})}else{var r="string"==typeof t?this.filter(t):o(t)&&e(t.item)?k.call(t):T(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return T(n)},has:function(t){return this.filter(function(){return i(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return -1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:T(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?T(t).filter(function(){var t=this;return $.some.call(n,function(e){return T.contains(e,t)})}):1==this.length?T(J.qsa(this[0],t)):this.map(function(){return J.qsa(this,t)}):T()},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=T(t));n&&!(i?i.indexOf(n)>=0:J.matches(n,t));){n=n!==e&&!r(n)&&n.parentNode}return T(n)},parents:function(t){for(var e=[],n=this;n.length>0;){n=T.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0})}return g(e,t)},parent:function(t){return g(j(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return h(this)}),t)},contents:function(){return this.map(function(){return k.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return D.call(h(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n){var r=T(t).get(0),i=r.parentNode||this.length>1}return this.each(function(e){T(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;){t=e.first()}T(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=T(this),i=r.contents(),a=n?t.call(this,e):t;i.length?i.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===x?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;T(this).empty().append(m(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=m(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType){if(i(t)){for(C in t){v(this,C,t[C])}}else{v(this,t,m(this,e,n,this.getAttribute(t)))}}}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:x},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){v(this,t)},this)})},prop:function(t,e){return t=W[t]||t,1 in arguments?this.each(function(n){this[t]=m(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(R,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?b(r):x},val:function(t){return 0 in arguments?this.each(function(e){this.value=m(this,t,e,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t){return this.each(function(e){var n=T(this),r=m(this,t,e,n.offset()),i=n.offsetParent().offset(),a={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)})}if(!this.length){return null}var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r,i=this[0];if(!i){return}if(r=getComputedStyle(i,""),"string"==typeof e){return i.style[S(e)]||r.getPropertyValue(e)}if(G(e)){var a={};return T.each(e,function(t,e){a[e]=i.style[S(e)]||r.getPropertyValue(e)}),a}}var o="";if("string"==t(e)){n||0===n?o=c(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(c(e))})}else{for(C in e){e[C]||0===e[C]?o+=c(C)+":"+f(C,e[C])+";":this.each(function(){this.style.removeProperty(c(C))})}}return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?$.some.call(this,function(t){return this.test(y(t))},u(t)):!1},addClass:function(t){return t?this.each(function(e){if("className" in this){E=[];var n=y(this),r=m(this,t,e,n);r.split(/\s+/g).forEach(function(t){T(this).hasClass(t)||E.push(t)},this),E.length&&y(this,n+(n?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className" in this){if(t===x){return y(this,"")}E=y(this),m(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(u(t)," ")}),y(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=T(this),i=m(this,t,n,y(this));i.split(/\s+/g).forEach(function(t){(e===x?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop" in this[0];return t===x?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft" in this[0];return t===x?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=I.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(T(t).css("margin-top"))||0,n.left-=parseFloat(T(t).css("margin-left"))||0,r.top+=parseFloat(T(e[0]).css("border-top-width"))||0,r.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!I.test(t.nodeName)&&"static"==T(t).css("position");){t=t.offsetParent}return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});T.fn[t]=function(i){var a,o=this[0];return i===x?n(o)?o["inner"+e]:r(o)?o.documentElement["scroll"+e]:(a=this.offset())&&a[t]:this.each(function(e){o=T(this),o.css(t,m(this,i,e,o[t]()))})}}),H.forEach(function(e,n){var r=n%2;T.fn[e]=function(){var e,i,a=T.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:J.fragment(n)}),o=this.length>1;return a.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=T.contains(N.documentElement,i);a.forEach(function(t){if(o){t=t.cloneNode(!0)}else{if(!i){return T(t).remove()}}i.insertBefore(t,e),s&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},T.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return T(t)[e](this),this}}),J.Z.prototype=T.fn,J.uniq=j,J.deserializeValue=b,T.zepto=J,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(F){function S(a){return a._zid||(a._zid=J++)}function L(c,f,b,e){if(f=I(f),f.ns){var d=O(f.ns)}return(M[S(c)]||[]).filter(function(a){return a&&(!f.e||a.e==f.e)&&(!f.ns||d.test(a.ns))&&(!b||S(a.fn)===S(b))&&(!e||a.sel==e)})}function I(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function O(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function X(a,b){return a.del&&!k&&a.e in W||!!b}function K(a){return z[a]||k&&W[a]||a}function G(b,e,t,c,r,a,f){var o=S(b),m=M[o]||(M[o]=[]);e.split(/\s/).forEach(function(h){if("ready"==h){return F(document).ready(t)}var g=I(h);g.fn=t,g.sel=r,g.e in z&&(t=function(d){var p=d.relatedTarget;return !p||p!==this&&!F.contains(this,p)?g.fn.apply(this,arguments):void 0}),g.del=a;var l=a||t;g.proxy=function(d){if(d=V(d),!d.isImmediatePropagationStopped()){d.data=c;var n=l.apply(b,d._args==R?[d]:[d].concat(d._args));return n===!1&&(d.preventDefault(),d.stopPropagation()),n}},g.i=m.length,m.push(g),"addEventListener" in b&&b.addEventListener(K(g.e),g.proxy,X(g,f))})}function N(d,f,b,e,a){var g=S(d);(f||"").split(/\s/).forEach(function(c){L(d,c,b,e).forEach(function(h){delete M[g][h.i],"removeEventListener" in d&&d.removeEventListener(K(h.e),h.proxy,X(h,a))})})}function V(a,b){return !b&&a.isDefaultPrevented||(b||(b=a),F.each(D,function(d,e){var c=b[d];a[d]=function(){return this[e]=q,c&&c.apply(b,arguments)},a[e]=H}),(b.defaultPrevented!==R?b.defaultPrevented:"returnValue" in b?b.returnValue===!1:b.getPreventDefault&&b.getPreventDefault())&&(a.isDefaultPrevented=q)),a}function B(a){var b,c={originalEvent:a};for(b in a){j.test(b)||a[b]===R||(c[b]=a[b])}return V(c,a)}var R,J=1,P=Array.prototype.slice,U=F.isFunction,Q=function(a){return"string"==typeof a},M={},A={},k="onfocusin" in window,W={focus:"focusin",blur:"focusout"},z={mouseenter:"mouseover",mouseleave:"mouseout"};A.click=A.mousedown=A.mouseup=A.mousemove="MouseEvents",F.event={add:G,remove:N},F.proxy=function(e,d){var c=2 in arguments&&P.call(arguments,2);if(U(e)){var b=function(){return e.apply(d,c?c.concat(P.call(arguments)):arguments)};return b._zid=S(e),b}if(Q(d)){return c?(c.unshift(e[d],e),F.proxy.apply(null,c)):F.proxy(e[d],e)}throw new TypeError("expected function")},F.fn.bind=function(a,b,c){return this.on(a,b,c)},F.fn.unbind=function(a,b){return this.off(a,b)},F.fn.one=function(a,c,d,b){return this.on(a,c,d,b,1)};var q=function(){return !0},H=function(){return !1},j=/^([A-Z]|returnValue$|layer[XY]$)/,D={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};F.fn.delegate=function(a,b,c){return this.on(b,a,c)},F.fn.undelegate=function(a,b,c){return this.off(b,a,c)},F.fn.live=function(a,b){return F(document.body).delegate(this.selector,a,b),this},F.fn.die=function(a,b){return F(document.body).undelegate(this.selector,a,b),this},F.fn.on=function(h,s,f,d,b){var l,m,g=this;return h&&!Q(h)?(F.each(h,function(a,c){g.on(a,s,f,c,b)}),g):(Q(s)||U(d)||d===!1||(d=f,f=s,s=R),(U(f)||f===!1)&&(d=f,f=R),d===!1&&(d=H),g.each(function(a,c){b&&(l=function(e){return N(c,e.type,d),d.apply(this,arguments)}),s&&(m=function(p){var o,n=F(p.target).closest(s,c).get(0);return n&&n!==c?(o=F.extend(B(p),{currentTarget:n,liveFired:c}),(l||d).apply(n,[o].concat(P.call(arguments,1)))):void 0}),G(c,h,d,f,s,m||l)}))},F.fn.off=function(c,d,b){var a=this;return c&&!Q(c)?(F.each(c,function(f,g){a.off(f,d,g)}),a):(Q(d)||U(b)||b===!1||(b=d,d=R),b===!1&&(b=H),a.each(function(){N(this,c,b,d)}))},F.fn.trigger=function(a,b){return a=Q(a)||F.isPlainObject(a)?F.Event(a):V(a),a._args=b,this.each(function(){a.type in W&&"function"==typeof this[a.type]?this[a.type]():"dispatchEvent" in this?this.dispatchEvent(a):F(this).triggerHandler(a,b)})},F.fn.triggerHandler=function(f,d){var c,b;return this.each(function(e,a){c=B(Q(f)?F.Event(f):f),c._args=d,c.target=a,F.each(L(a,f.type||f),function(g,h){return b=h.proxy(c),c.isImmediatePropagationStopped()?!1:void 0})}),b},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(a){F.fn[a]=function(b){return 0 in arguments?this.bind(a,b):this.trigger(a)}}),F.Event=function(b,d){Q(b)||(d=b,b=d.type);var f=document.createEvent(A[b]||"Events"),c=!0;if(d){for(var a in d){"bubbles"==a?c=!!d[a]:f[a]=d[a]}}return f.initEvent(b,c,!0),V(f)}}(Zepto),function(B){function x(a,f,h,c){return Math.abs(a-f)>=Math.abs(h-c)?a-f>0?"Left":"Right":h-c>0?"Up":"Down"}function j(){A=null,d.last&&(d.el.trigger("longTap"),d={})}function b(){A&&clearTimeout(A),A=null}function m(){C&&clearTimeout(C),k&&clearTimeout(k),y&&clearTimeout(y),A&&clearTimeout(A),C=k=y=A=null,d={}}function z(a){return("touch"==a.pointerType||a.pointerType==a.MSPOINTER_TYPE_TOUCH)&&a.isPrimary}function g(a,c){return a.type=="pointer"+c||a.type.toLowerCase()=="mspointer"+c}var C,k,y,A,w,d={},q=750;B(document).ready(function(){var h,f,c,e,l=0,a=0;"MSGesture" in window&&(w=new MSGesture,w.target=document.body),B(document).bind("MSGestureEnd",function(n){var o=n.velocityX>1?"Right":n.velocityX<-1?"Left":n.velocityY>1?"Down":n.velocityY<-1?"Up":null;o&&(d.el.trigger("swipe"),d.el.trigger("swipe"+o))}).on("touchstart MSPointerDown pointerdown",function(n){(e=g(n,"down"))&&!z(n)||(c=e?n:n.touches[0],n.touches&&1===n.touches.length&&d.x2&&(d.x2=void 0,d.y2=void 0),h=Date.now(),f=h-(d.last||h),d.el=B("tagName" in c.target?c.target:c.target.parentNode),C&&clearTimeout(C),d.x1=c.pageX,d.y1=c.pageY,f>0&&250>=f&&(d.isDoubleTap=!0),d.last=h,A=setTimeout(j,q),w&&e&&w.addPointer(n.pointerId))}).on("touchmove MSPointerMove pointermove",function(n){(e=g(n,"move"))&&!z(n)||(c=e?n:n.touches[0],b(),d.x2=c.pageX,d.y2=c.pageY,l+=Math.abs(d.x1-d.x2),a+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(o){(e=g(o,"up"))&&!z(o)||(b(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?y=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+x(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last" in d&&(30>l&&30>a?k=setTimeout(function(){var n=B.Event("tap");n.cancelTouch=m,d.el.trigger(n),d.isDoubleTap?(d.el&&d.el.trigger("doubleTap"),d={}):C=setTimeout(function(){C=null,d.el&&d.el.trigger("singleTap"),d={}},250)},0):d={}),l=a=0)}).on("touchcancel MSPointerCancel pointercancel",m),B(window).on("scroll",m)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(a){B.fn[a]=function(c){return this.on(a,c)}})}(Zepto),function(k){function h(p,o){var a=p[m],q=a&&g[a];if(void 0===o){return q||d(p)}if(q){if(o in q){return q[o]}var n=c(o);if(n in q){return q[n]}}return j.call(k(p),o)}function d(q,s,p){var o=q[m]||(q[m]=++k.uuid),r=g[o]||(g[o]=b(q));return void 0!==s&&(r[c(s)]=p),r}function b(a){var l={};return k.each(a.attributes||f,function(o,n){0==n.name.indexOf("data-")&&(l[c(n.name.replace("data-",""))]=k.zepto.deserializeValue(n.value))}),l}var g={},j=k.fn.data,c=k.camelCase,m=k.expando="Zepto"+ +new Date,f=[];k.fn.data=function(e,a){return void 0===a?k.isPlainObject(e)?this.each(function(n,l){k.each(e,function(o,p){d(l,o,p)})}):0 in this?h(this[0],e):void 0:this.each(function(){d(this,e,a)})},k.fn.removeData=function(a){return"string"==typeof a&&(a=a.split(/\s+/)),this.each(function(){var l=this[m],e=l&&g[l];e&&k.each(a||e,function(n){delete e[a?c(this):n]})})},["remove","empty"].forEach(function(a){var l=k.fn[a];k.fn[a]=function(){var e=this.find("*");return"remove"===a&&(e=e.add(this)),e.removeData(),l.call(this)}})}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function a(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,r,"ajaxSend",[t,e])}function o(t,e,r,i){var a=r.context,o="success";r.success.call(a,t,o,e),i&&i.resolveWith(a,[t,o,e]),n(r,a,"ajaxSuccess",[e,r,t]),l(o,e,r)}function s(t,e,r,i,a){var o=i.context;i.error.call(o,r,e,t),a&&a.rejectWith(o,[r,e,t]),n(i,o,"ajaxError",[r,i,t||e]),l(e,r,i)}function l(t,e,r){var a=r.context;r.complete.call(a,e,t),n(r,a,"ajaxComplete",[e,r]),i(r)}function c(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==C?"json":w.test(t)?"script":x.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function h(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function d(e,n,r,i){var a,o=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,l){a=t.type(l),i&&(n=r?i:i+"["+(s||"object"==a||"array"==a?n:"")+"]"),!i&&o?e.add(l.name,l.value):"array"==a||!r&&"object"==a?d(e,l,r,n):e.add(n,l)})}var g,m,v=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,C="application/json",T="text/html",E=/^\s*$/,S=y.createElement("a");S.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type" in e)){return t.ajax(e)}var r,i,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++v,u=y.createElement("script"),f=window[c],p=function(e){t(u).triggerHandler("error",e||"abort")},h={abort:p};return n&&n.promise(h),t(u).on("load error",function(a,l){clearTimeout(i),t(u).off().remove(),"error"!=a.type&&r?o(r[0],h,e,n):s(null,l||"error",h,e,n),window[c]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0}),a(h,e)===!1?(p("abort"),h):(window[c]=function(){r=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),e.timeout>0&&(i=setTimeout(function(){p("timeout")},e.timeout)),h)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:C,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,i=t.extend({},e||{}),l=t.Deferred&&t.Deferred();for(g in t.ajaxSettings){void 0===i[g]&&(i[g]=t.ajaxSettings[g])}r(i),i.crossDomain||(n=y.createElement("a"),n.href=i.url,n.href=n.href,i.crossDomain=S.protocol+"//"+S.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),p(i);var h=i.dataType,d=/\?.+=\?/.test(i.url);if(d&&(h="jsonp"),i.cache!==!1&&(e&&e.cache===!0||"script"!=h&&"jsonp"!=h)||(i.url=f(i.url,"_="+Date.now())),"jsonp"==h){return d||(i.url=f(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),t.ajaxJSONP(i,l)}var v,b=i.accepts[h],w={},x=function(t,e){w[t.toLowerCase()]=[t,e]},C=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,T=i.xhr(),j=T.setRequestHeader;if(l&&l.promise(T),i.crossDomain||x("X-Requested-With","XMLHttpRequest"),x("Accept",b||"*/*"),(b=i.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(b)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&x("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers){for(m in i.headers){x(m,i.headers[m])}}if(T.setRequestHeader=x,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=c,clearTimeout(v);var e,n=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==C){h=h||u(i.mimeType||T.getResponseHeader("content-type")),e=T.responseText;try{"script"==h?(0,eval)(e):"xml"==h?e=T.responseXML:"json"==h&&(e=E.test(e)?null:t.parseJSON(e))}catch(r){n=r}n?s(n,"parsererror",T,i,l):o(e,T,i,l)}else{s(T.statusText||null,T.status?"error":"abort",T,i,l)}}},a(T,i)===!1){return T.abort(),s(null,"abort",T,i,l),T}if(i.xhrFields){for(m in i.xhrFields){T[m]=i.xhrFields[m]}}var $="async" in i?i.async:!0;T.open(i.type,i.url,$,i.username,i.password);for(m in w){j.apply(T,w[m])}return i.timeout>0&&(v=setTimeout(function(){T.onreadystatechange=c,T.abort(),s(null,"timeout",T,i,l)},i.timeout)),T.send(i.data?i.data:null),T},t.get=function(){return t.ajax(h.apply(null,arguments))},t.post=function(){var e=h.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=h.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length){return this}var i,a=this,o=e.split(/\s/),s=h(e,n,r),l=s.success;return o.length>1&&(s.url=o[0],i=o[1]),s.success=function(e){a.html(i?t("<div>").html(e.replace(b,"")).find(i):e),l&&l.apply(a,arguments)},t.ajax(s),this};var j=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(j(e)+"="+j(n))},d(r,e,n),r.join("&").replace(/%20/g,"+")}}(Zepto),window.CoreLib=window.jQuery||window.Zepto,!function(a){a.callEvent=function(g,j,f,c,b){var h,d=a.Event(g);return c&&(a(c).trigger(d,b),h=d.result),a.isFunction(j)&&(h=j.apply(f,a.isArray(b)?b:[b])),h},a.fn.callEvent=function(c,d,b){return a.callEvent(d,c.options?c.options[d]:null,c,this,b)},a.bindFn=function(f,g,d){var c=a.fn[f],b=g.NAME||"mzui."+f;a.fn[f]=function(j,h){return this.each(function(){var m=a(this),k=m.data(b),e="object"==typeof j&&j;d&&(e=a.extend(e,d)),k||m.data(b,k=new g(m,e)),"string"==typeof j&&k[j].apply(k,a.isArray(h)?h:[h])})},a.fn[f].Constructor=g,a.fn[f].noConflict=function(){return a.fn[f]=c,this}},a.formatDate=function(b,d){b instanceof Date||(b=new Date(b));var f={"M+":b.getMonth()+1,"d+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"S+":b.getMilliseconds()};/(y+)/i.test(d)&&(d=d.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in f){new RegExp("("+c+")").test(d)&&(d=d.replace(RegExp.$1,1==RegExp.$1.length?f[c]:("00"+f[c]).substr((""+f[c]).length)))}return d},a.format=function(f,g){if(f instanceof Date){return a.formatDate(f,g)}if(arguments.length>1){var d;if(2==arguments.length&&"object"==typeof g){for(var c in g){void 0!==g[c]&&(d=new RegExp("({"+c+"})","g"),f=f.replace(d,g[c]))}}else{for(var b=1;b<arguments.length;b++){void 0!==arguments[b]&&(d=new RegExp("({["+(b-1)+"]})","g"),f=f.replace(d,arguments[b]))}}}return f},a.calValue=function(c,d,b){return a.isFunction(c)?c.apply(d,a.isArray(b)?b:[b]):c},a.is$=function(b){return a.zepto.isZ(b)},a.isStr=function(b){return"string"==typeof b},a.isNum=function(b){return"number"==typeof b},a.TapName="ontouchstart" in document.documentElement?"tap":"click"}(CoreLib),!function(D,y,k,b){var q=1200,B=D.TapName,j="display",E="orginalClass",m="hidden",A="loading",C="body",x="."+j+".oneTarget",g="mzui."+j,w={left:"right",bottom:"top",top:"bottom",right:"left"},z=function(t,o){var e=this;D.isPlainObject(t)&&(o=t,t=null),o=D.extend({element:t},z.DEFAULT,t?t.data():null,o);var h=o.display;h&&z.plugs["_"+h]&&(o=D.calValue(z.plugs["_"+h],e,o));var d=o.selector;t||(o.trigger=null),o.name||(o.name=j+q++);var p=function(c){o.stopPropagation&&c.stopPropagation();var r=D(this),a=r.data()||{};if(a.element=this,r.is("a")){var l=r.attr("href");l&&"#"!==l&&l.indexOf("##")<0&&(!o.target&&/^#[a-z]/i.test(l)?a.target=l:a.remote||(a.remote=l)),c&&o.preventDefault!==!1&&c.preventDefault()}e[o.triggerMethod](a)};if(o.trigger&&(d?t.on(o.trigger,d,p):t.on(o.trigger,p)),e.$=t,e.options=o,o.displayAuto!==y&&o.displayAuto!==!1){d&&t?t.find(d).each(p):e.show()}else{if(d&&t){var f=o.activeClass;t.find(d).filter("[data-display-auto]"+(f?",."+f:"")).each(p)}}};z.prototype._getTarget=function(l){var p=this,h=D.calValue(l.target,p,l);if("!new"===h||h==="#"+j+"Target"){var f=j+"Target-"+l.name,d=j+"Layer-"+l.name;D("#"+f).remove(),h=D('<div class="'+j+" "+m+'"/>',{id:f});var o=D("#"+d);o.length||(o=D('<div class="'+j+'-layer"/>',{id:d}).appendTo(C)),l.layer=l.container=o.append(h)}else{"!self"===h&&(h=l.element||p.$)}return h=D(h).addClass(j).attr("data-"+j+"-name",l.name),h.parent().length||h.appendTo(l.container),h.data(E)||h.data(E,h.attr("class")),h},z.prototype.update=function(I,o,u,K){var L=this,t=function(d){var a=o.template;D.isFunction(a)?d=a(d,o):D.isStr(a)&&(d=D.format(a,d)),d!==!1&&(D.is$(d)?I.empty().append(d):I["text"===o.contentType?"text":"html"](d))},H=D.calValue(o.remote,L,o);if(H){var c=D.uuid++,F=o.loadingClass;I.removeClass(o.showInClass).addClass(F),D(C).addClass("has-"+j+"-"+A),o.$backdrop&&o.$backdrop.addClass(F);var J=D.isStr(H)?{url:H}:H;L.xhr&&L.xhr.abort(),L.remoteCall=c,L.xhr=D.ajax(D.extend({dataType:o.remoteType||"html",error:o.remoteError},J,{success:function(a,d,f){t(a),J.success&&J.success(a,d,f)},complete:function(d,a){L.xhr=0,L.remoteCall===c&&(L.lastRemote!==H&&(D(o.container).scrollTop(0),L.lastRemote=H),I.removeClass(F).addClass(o.showInClass),D(C).removeClass("has-"+j+"-"+A),o.$backdrop&&o.$backdrop.removeClass(F),D.callEvent("loaded",o.loaded,L,L.$,o),D(b).triggerHandler(j+".loaded",[L,L.$,o]),J.complete&&J.complete(d,a),K&&K())}}))}else{var G=D.calValue(o.content,L,o),r=o.source;r&&(r=D(D.calValue(r,L,o)),r=r.parent().length?r.clone():r,G=G?r.html(G):r),t(G),K&&K()}u&&u(H)},z.prototype._getOptions=function(d){var f=this,c=D.extend({},f.options,d),a=c.display;return a&&z.plugs[a]&&(c=D.calValue(z.plugs[a],f,c)),c.$target||(c.$target=f._getTarget(c)),c},z.prototype.show=function(K,F){D.isFunction(K)&&(F=K,K=null);var L=this,u=L._getOptions(K);L.last=u;var J=u.$target,G=u.activeClass,r=u.animate,h=u.element,M=u.placement,o=u.layer,l="",t="",a=u.name,s=u.arrow,f=u.backdrop,I=D(h);if(J.attr("class","invisible "+J.data(E)+" "+(u.targetClass||"")).removeClass(m),D.callEvent("show",u.show,L,L.$,u)===!1){return J.attr("class",E),u.layer&&u.layer.remove(),F&&F()}if(u.showSingle&&(u.showSingle===!0?J.parent().children():D(u.showSingle)).not(J).removeClass(u.showInClass).addClass(m),o&&o.removeClass(m),f){var d="backdrop-"+a;D("#"+d).remove();var H=u.$backdrop=D('<div class="display-backdrop"/>',{id:d,type:u.display,"data-display-name":a}).appendTo(C).css("zIndex",q++);f===!0&&(f="fade"),D.isStr(f)&&H.addClass(f),D(C).addClass("display-show-"+u.name),setTimeout(function(){H.addClass("in")},10),u.backdropDismiss&&H.attr("data-dismiss",j)}"none"!==u.targetZIndex&&(o||J).css("zIndex",u.targetZIndex||q++),G&&h&&(u.activeSingle&&I.parent().children().removeClass(G),I.addClass(G)),L.update(J,u,function(al){if(u.scrollTop&&D(u.container).scrollTop(0),M=D.calValue(M,L,u)){D.isStr(M)&&"{"==M[0]&&(M=D.parseJSON(M));var ak=D("body");if(D.isPlainObject(M)){J.css(M)}else{if("overlay"===M){var ae=I.offset();J.css({position:"absolute",left:ae.left-(u.layer?ak.scrollLeft():0),top:ae.top-(u.layer?ak.scrollTop():0),width:I.width(),height:I.height()})}else{if(0===M.indexOf("beside")){J.css({position:"absolute"}),M=M.split("-");var ai,ad,am=M[1]||"auto",ah=M[2]||"center",ae=I.offset(),Z=ae.top-(u.layer?ak.scrollTop():0),c=ae.left-(u.layer?ak.scrollLeft():0),p=I.width(),n=I.height(),aj=J.width(),af=J.height(),W=D(b).width(),V=D(b).height(),Y="start"===ah,X="end"===ah;"auto"===am&&(am=V>=Z+n+af?"bottom":Z>=af?"top":W>=c+p+aj?"right":c>=aj?"left":"bottom");var ag=Y?c:X?c+p:c+p/2-aj/2,U=Y?Z:X?Z+n:Z+n/2-af/2;"bottom"===am?(ad=Z+n,ai=ag):"top"===am?(ad=Z-af,ai=ag):"right"===am?(ad=U,ai=c+p):(ad=U,ai=c-aj),J.css({top:Math.max(0,Math.min(ad,V-af)),left:Math.max(0,Math.min(ai,W-aj))}),t=w[am],l="fade scale-from-"+t}else{M=M.split("-");var ac=M[0],aa=M[1],Q={};"top"!=ac&&"bottom"!=ac&&"left"!=ac&&"right"!=ac||(Q.justifyContent="flex-"+("top"===ac||"left"==ac?"start":"end"),Q.flexDirection="top"==ac||"bottom"==ac?"column":"row",Q.alignItems=aa?"center"==aa?"center":"left"==aa?"flex-start":"flex-end":"stretch"),o&&o.css(Q),l=ac,t=w[l],l="from-"+l}}}}if(s){var an="display-arrow arrow-"+t;D.isStr(s)&&(an+=" "+s),J.addClass(an)}var ab=function(){J.removeClass("invisible"),al||J.addClass(u.showInClass),F&&F();var e=u.autoHide;e&&(L.animateCall=setTimeout(function(){L.hide()},D.isNum(e)?e:5000)),L.animateCall=setTimeout(function(){D.callEvent("shown",u.shown,L,L.$,u),D(b).triggerHandler(j+".shown",[L,L.$,u])},u.duration+50),u.targetDismiss&&J.one((u.targetDismiss===!0?B:u.targetDismiss)+x,function(){L.hide()})};r?(r===!0?J.addClass(l?"enter-"+l:"fade"):D.isStr(r)?J.addClass(r.replace("suggest",l)):D.isNum(r)&&(u.duration=r),clearTimeout(L.animateCall),L.animateCall=setTimeout(ab,10)):ab()},function(){D.callEvent("displayed",u.displayed,L,L.$,u),D(b).triggerHandler(j+".displayed",[L,L.$,u]),u.plugSkin&&J.find("[data-skin]").skin(),u.plugDisplay&&J.find("[data-"+j+"]").display(),D.fn.listenScroll&&J.find(".listen-scroll").listenScroll()}),z.last=a,z.all[a]=L},z.prototype.hide=function(o,t){D.isFunction(o)&&(t=o,o=null);var f=this,d=f.last||f._getOptions(o);if(D.callEvent("hide",d.hide,f,f.$,d)===!1){return t&&t()}f.last=!1;var h=d.$target.off(x),r=D("#backdrop-"+d.name),l=function(){d.layer&&d.layer.addClass(m),D.callEvent(m,d[m],f,f.$,d),D(b).triggerHandler(j+"."+m,[f,f.$,d]),h.addClass(m),r.remove(),D(C).removeClass(j+"-show-"+d.name),d.layer&&d.layer.remove()};d.activeClass&&d.element&&D(d.element).removeClass(d.activeClass),h.removeClass(d.showInClass),r.removeClass("in"),d.animate?(clearTimeout(f.animateCall),f.animateCall=setTimeout(l,d.duration+50)):l()},z.prototype.isShow=function(a){return a=this._getOptions(a),a.checkShow?D.calValue(a.checkShow,this,a):a.$target?a.$target.hasClass(a.showInClass):a.last},z.prototype.toggle=function(c,d){var a;c===!0||c===!1?(a=c,c=D.isPlainObject(d)?d:null,c&&(d=null)):a=this.isShow(c),this[a?"hide":"show"](c,d)},z.NAME=g,z.DEFAULT={trigger:B,triggerMethod:"show",container:C,plugSkin:!0,plugDisplay:!0,content:!1,loadingClass:A,showInClass:"in",animate:!0,duration:300,keyboard:!0,backdropDismiss:!0,activeSingle:!0},z.plugs=function(c,d,a){if(D.isPlainObject(c)){D.each(c,z.plugs)}else{if(!d){return z.plugs[c]}z.plugs[c]=d,c=0===c.indexOf("_")?c.substr(1):c,D.fn[c]||a===!1||D.bindFn(a||c,z,{display:c})}},z.all={},z.dismiss=function(c,d){D.isFunction(c)&&(d=c,c=""),c=c||z.last;var a=z.all[c];a&&a.hide(d)},D.bindFn(j,z),D.Display=z,D(function(){D("[data-"+j+"]").display(),D(b).on(B,'[data-dismiss="'+j+'"]',function(){var a=D(this),c="data-"+j+"-name";name=a.attr(c),name&&"null"!=name||(name=a.closest("."+j).attr(c)),z.dismiss(name)})})}(CoreLib,void 0,window,document),!function(b,d){if(!b.Display){return void console.error("display.plugs.js requires display.js")}var f=function(k,m,j,h,g){var l=b(m).next("."+k);return l.length||(l=j),l||'<div class="'+(g||k)+" "+(h||"")+'"/>'},c=function(e,g){return e===d?g:e};b.Display.plugs({dropdown:function(h){var g=h.source;return b.extend(h,{backdrop:c(h.backdrop,"clean"),source:h.target?null:function(){return f("dropdown-menu",h.element,g)},target:c(h.target,"!new"),placement:c(h.placement,"beside"),activeClass:c(h.activeClass,"open"),targetDismiss:c(h.targetDismiss,!0)})},popover:function(h){var g=h.source;return b.extend(h,{arrow:c(h.arrow,!0),backdrop:c(h.backdrop,"clean"),source:h.target?null:function(){return f("popover",h.element,g,"canvas with-padding")},target:c(h.target,"!new"),placement:c(h.placement,"beside"),activeClass:c(h.activeClass,"open")})},messager:function(e){return b.extend(e,{autoHide:c(e.autoHide,!0),animate:e.animate===d||e.animate===!0?"scale-suggest fade":e.animate,closeButton:c(e.closeButton,!0),template:function(h,j){var g=b(j.source||'<div class="messager list-item"/>');return j.icon&&g.append('<div class="avatar"><i class="icon icon-'+j.icon+'"/></div>'),g.append('<div class="title">'+h+"</div>"),j.closeButton&&g.append('<button class="btn muted" type="button" data-dismiss="display"><i class="icon icon-remove"></i></button>'),g.addClass(j.type||"gray")},target:"!new",placement:c(e.placement,"bottom-center"),activeClass:c(e.activeClass,"open")})},modal:function(h){var g=h.source;return b.extend(h,{backdrop:c(h.backdrop,"modal-backdrop fade"),source:h.target?null:function(){return f("modal",h.element,g,"","content")},target:c(h.target,"!new"),targetClass:"modal "+(h.targetClass||""),placement:c(h.placement,"tap"===b.TapName?"bottom":"center"),activeClass:c(h.activeClass,"open")})},_collapse:function(g){return b.extend(g,{triggerMethod:"toggle",animate:!1,showInClass:"in",activeClass:"collapse-open",showSingle:c(g.group||g.showSingle,g.selector?"collapse-group-"+ ++b.uuid:!1)})}}),b.Display.plugs("_self",function(g){return b.extend(g,{trigger:!1,target:"!self",targetZIndex:"none",displayAuto:c(g.displayAuto,!0)})},"displaySelf");var a=new b.Display({display:"messager"});a._show=a.show,a.show=function(g,h){a._show(b.extend({content:g},h))},b.each({primary:0,success:"ok-sign",info:"info-sign",warning:"warning-sign",danger:"exclamation-sign",important:0,special:0},function(g,h){a[g]=function(j,e){a._show(b.extend({content:j,icon:h||null,type:g},e))}}),b.messager=a}(CoreLib,void 0),!function(a){var b="mzui.scrollListener",c=function(g,e){var d=this;d.options=e=a.extend({},c.DEFAULT,g.data(),e),d.$=g,d.$container=e.container?"parent"==e.container?d.$.parent():a(e.container):d.$,d.lastScrollTop=0,d.lastCallTime=0;var h=0;if(g.on("scroll."+b,function(){clearTimeout(h);var j=(new Date).getTime();h=setTimeout(function(){d.onScroll(),d.lastCallTime=j},j-d.lastCallTime>e.handleInterval?0:e.handleInterval)}),e.canScrollClass){var f=(d.$[0]===window?a("body"):d.$)[0].scrollHeight;d.$container.toggleClass(e.canScrollClass,f>d.$.height())}};c.prototype.onScroll=function(){var g=this,j=g.options,k=g.$.scrollTop(),h=k>0,f=k>g.lastScrollTop?"down":"up",d=j.directionClass;g.$container.toggleClass(j.inScrollClass,h).toggleClass(d+"-down","down"===f).toggleClass(d+"-up","up"===f).toggleClass(d+"-over",k+g.$.height()>=g.$[0].scrollHeight),g.$container.callEvent(g,"listenScroll",[h,f,k]),g.isInScroll=h,g.scrollDirection=f,g.lastScrollTop=k},c.NAME=b,c.DEFAULT={minDelta:20,handleInterval:100,inScrollClass:"in-scroll",directionClass:"scroll",canScrollClass:"can-scroll"},a.bindFn("listenScroll",c),a(function(){a(window).listenScroll({container:"body"}),a(".listen-scroll").listenScroll()})}(CoreLib),!function(z,L,E){function B(a){if(a=a.toLowerCase(),a&&N.test(a)){var c;if(4===a.length){var d="#";for(c=1;4>c;c+=1){d+=a.slice(c,c+1).concat(a.slice(c,c+1))}a=d}var b=[];for(c=1;7>c;c+=2){b.push(q("0x"+a.slice(c,c+2)))}return{r:b[0],g:b[1],b:b[2],a:1}}throw new Error("Wrong hex string! (hex: "+a+")")}function H(a){return typeof a===I&&("transparent"===a.toLowerCase()||N.test(z.trim(a.toLowerCase())))}function P(p){function h(a){return a=0>a?a+1:a>1?a-1:a,1>6*a?u+(d-u)*a*6:1>2*a?d:2>3*a?u+(d-u)*(2/3-a)*6:u}var f=p.h,b=p.s,g=p.l,m=p.a;f=G(f)%K/K,b=j(b),g=j(g),m=j(m);var d=0.5>=g?g*(b+1):g+b-g*b,u=2*g-d,l={r:h(f+1/3)*x,g:h(f)*x,b:h(f-1/3)*x,a:m};return l}function D(a,c,b){return J(b)&&(b=0),J(c)&&(c=x),L.min(L.max(a,b),c)}function A(a,b){return D(a,b)}function G(a){return"number"==typeof a?a:parseFloat(a)}var N=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,x=255,K=360,C=100,I="string",M="object",J=function(a){return a===E},F=function(a){return !J(a)},q=function(a){return parseInt(a)},j=function(a,b){return A(G(a),b)},O=function(a){return q(j(a,x))},k=function(c,f,h,b){var g=this;if(g.r=g.g=g.b=0,g.a=1,F(b)&&(g.a=j(b,1)),F(c)&&F(f)&&F(h)){g.r=O(c),g.g=O(f),g.b=O(h)}else{if(F(c)){var d=typeof c;if(d==I){c=c.toLowerCase(),"transparent"===c?g.a=0:g.rgb(B(c))}else{if("number"==d&&J(f)){g.r=g.g=g.b=O(c)}else{if(d==M&&F(c.r)){g.r=O(c.r),F(c.g)&&(g.g=O(c.g)),F(c.b)&&(g.b=O(c.b)),F(c.a)&&(g.a=j(c.a,1))}else{if(d==M&&F(c.h)){var a={h:j(c.h,K),s:1,l:1,a:1};F(c.s)&&(a.s=j(c.s,1)),F(c.l)&&(a.l=j(c.l,1)),F(c.a)&&(a.a=j(c.a,1)),g.rgb(P(a))}}}}}}};k.prototype.rgb=function(a){var b=this;if(F(a)){if(typeof a==M){F(a.r)&&(b.r=O(a.r)),F(a.g)&&(b.g=O(a.g)),F(a.b)&&(b.b=O(a.b)),F(a.a)&&(b.a=j(a.a,1))}else{var c=q(G(a));b.r=c,b.g=c,b.b=c}return b}return{r:b.r,g:b.g,b:b.b,a:b.a}},k.prototype.hue=function(a){var b=this,c=b.toHsl();return J(a)?c.h:(c.h=j(a,K),b.rgb(P(c)),b)},k.prototype.darken=function(a){var b=this,c=b.toHsl();return c.l-=a/C,c.l=A(c.l,1),b.rgb(P(c)),b},k.prototype.clone=function(){var a=this;return new k(a.r,a.g,a.b,a.a)},k.prototype.lighten=function(a){return this.darken(-a)},k.prototype.fade=function(a){return this.a=A(a/C,1),this},k.prototype.toHsl=function(){var Q,f,b=this,m=b.r/x,y=b.g/x,e=b.b/x,R=b.a,g=L.max(m,y,e),w=L.min(m,y,e),d=(g+w)/2,u=g-w;if(g===w){Q=f=0}else{switch(f=d>0.5?u/(2-g-w):u/(g+w),g){case m:Q=(y-e)/u+(e>y?6:0);break;case y:Q=(e-m)/u+2;break;case e:Q=(m-y)/u+4}Q/=6}return{h:Q*K,s:f,l:d,a:R}},k.prototype.luma=function(){var a=this.r/x,c=this.g/x,b=this.b/x;return a=0.03928>=a?a/12.92:L.pow((a+0.055)/1.055,2.4),c=0.03928>=c?c/12.92:L.pow((c+0.055)/1.055,2.4),b=0.03928>=b?b/12.92:L.pow((b+0.055)/1.055,2.4),0.2126*a+0.7152*c+0.0722*b},k.prototype.saturate=function(a){var b=this.toHsl();return b.s+=a/C,b.s=A(b.s),this.rgb(P(b))},k.prototype.contrast=function(a,c,d){if(c=J(c)?new k(x,x,x,1):new k(c),a=J(a)?new k(0,0,0,1):new k(a),a.luma()>c.luma()){var b=c;c=a,a=b}return this.a<0.5?a:(d=J(d)?0.43:G(d),this.luma()<d?c:a)},k.prototype.hexStr=function(){var a=function(b){return b=b.toString(16),1==b.length?"0"+b:b};return"#"+a(this.r)+a(this.g)+a(this.b)},k.prototype.toCssStr=function(){var a=this;return a.a>0?a.a<1?"rgba("+a.r+","+a.g+","+a.b+","+a.a+")":a.hexStr():"transparent"},k.isColor=H,z.Color=k}(CoreLib,Math,void 0),function(b,d){var f="mzui.skin",c={},a=function(h,j){var g=this;g.options=j=b.extend({},a.DEFAULT,h.data(),j),g.$=h,g.paint()};a.prototype.paint=function(k){var t,B,j=this,D=j.options,r=j.$,A=j.$.hasClass("pale")||D.pale,C=D.outline||r.hasClass("outline"),y=D.tint||r.hasClass("text-tint");if(k=k===d?D.skin:k,A===d&&(j.$.hasClass("dark")||D.dark)&&(A=!1),b.isStr(k)&&k.indexOf(":")>0){k=k.split(":"),B=k[0],k=k[1];var e=parseInt(k);NaN!==e&&(k=e)}if(""===k||k===d||"random"===k){k=Math.round(360*Math.random())}else{if(c[k]){k=c[k]}else{if(b.isStr(k)&&0===k.indexOf("random")){c[k]=k=Math.round(360*Math.random())}else{if(b.isStr(k)&&0===k.indexOf("@")){for(var w=0,z=k.length-1;z>0;--z){w+=Math.pow(3,z-1)*k.charCodeAt(z)}k=w}}}}B&&(c[B]=k),t="number"==typeof k?new b.Color({h:k*D.hueSpace%360,s:D.saturation,l:D.lightness}):new b.Color(k),j.color=t,t.luma()<D.threshold?A&&(j.darkColor=t,j.color=new b.Color(b.extend(t.toHsl(),{l:D.paleLight}))):A===!1?(j.paleColor=t,j.color=new b.Color(b.extend(t.toHsl(),{l:D.darkLight}))):(A=!0,y&&(j.darkColor=new b.Color(b.extend(t.toHsl(),{l:D.darkLight}))));var x=j.color.toCssStr(),q={backgroundColor:C?"transparent":x,borderColor:x,color:C?x:A?y?j.darkColor.toCssStr():"":"#fff"};j.$.callEvent(j,"paint",q)!==!1&&r.css(q)},a.NAME=f,a.DEFAULT={skin:"random",hueSpace:47,saturation:0.7,lightness:0.6,threshold:0.5,darkLight:0.4,paleLight:0.92},a.all=c,a.set=function(g,h){b.isPlainObject(g)?b.extend(a.all,g,h):a.all[g]=h,b("[data-skin]").skin("paint")},b.bindFn("skin",a),b.Skin=a,b(function(){b("[data-skin]").skin()})}(CoreLib,void 0),function(a){a.fn.serializeArray=function(){var d,f,c=[],b=function(e){return e.forEach?e.forEach(b):void c.push({name:d,value:e})};return this[0]&&a.each(this[0].elements,function(g,e){f=e.type,d=e.name,d&&"fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=f&&"reset"!=f&&"button"!=f&&("radio"!=f&&"checkbox"!=f||e.checked)&&b("file"==f?e.files:a(e).val())}),c},a.fn.serialize=function(){var b=[];return this.serializeArray().forEach(function(c){b.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))}),b.join("&")},a.fn.submit=function(b){if(0 in arguments){this.bind("submit",b)}else{if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.isDefaultPrevented()||this.get(0).submit()}}return this}}(Zepto),!function(b,d,f){var c="mzui.ajaxform",a=function(g,e){if(g.length&&!g.data(c)){g.data(c,1);var j=function(l,p){var k,m=b.Event(l);return b.isArray(p)||(p=[p]),g.trigger(m,p),k=m.result,e&&b.isFunction(e[l])&&(k=e[l].apply(g,p)),k},h=function(l){var m=g.find(".form-message");if(m.length){var k=m.find(".content");(k.length?k:m).html(l),m.show()}else{b.messager.warning(l,{time:10000})}};g.on("submit",function(o){o.preventDefault();var k=g[0],w={};if(b.each(g.serializeArray(),function(A,z){var x=z.name,u=z.value,B=w[x];if(u instanceof FileList){for(var y=[],p=u.length-1;p>=0;--p){y.push(u[p])}u=y}b.isArray(u)?B===f?B=u:b.isArray(B)?B.push.apply(B,u):(u.push(B),B=u):x.lastIndexOf("]")===x.length-1?B===f?B=[u]:B.push(u):B=u,w[x]=B}),j("onSubmit",w)!==!1){e.dataConverter&&(w=e.dataConverter(w));var m=new FormData;for(var q in w){var s=w[q];if(b.isArray(s)){for(var n=s.length-1;n>=0;--n){m.append(q,s[n])}}else{m.append(q,s)}}var t=g.find('[type="submit"]').attr("disabled","disabled").addClass("disabled loading");b.ajax({url:e.url||k.action,type:e.type||k.method,processData:!1,contentType:!1,dataType:e.dataType||g.data("type")||"json",data:m,success:function(u,x){if(j("onResponse",[u,x])!==!1){try{if("string"==typeof u&&(u=b.parseJSON(u)),j("onSuccess",u),"success"===u.result){u.message?(b.messager.success(u.message),u.locate&&setTimeout(function(){location.href=u.locate},1200)):u.locate&&(location.href=u.locate)}else{var p=u.message||u.reason||u.error;p&&(b.isPlainObject(p)?b.each(p,function(A,B){b.isArray(B)&&B.length&&(B=B.length>1?"<ul><li>"+B.join("</li><li>")+"</li></ul>":B[0]);var z=g.find("#"+A+', [name="'+A+'"]').closest(".control");if(z.length){var y=z.find(".help-text");y.length?y.html(B):z.append('<div class="help-text">'+B+"</div>"),z.addClass("has-error")}else{h(B)}}):h(p))}}catch(l){h(u||"No response.")}j("onResult",u)}},error:function(u,p,l){j("onError",[u,p,l])!==!1&&(h("error: "+l),d.v&&d.v.lang.timeout&&b.messager.danger(d.v.lang.timeout))},complete:function(l,p){t.attr("disabled",null).removeClass("disabled loading"),j("onComplete",{xhr:l,status:p})}})}}).on("change",function(k){g.find(".form-message").hide(),b(k.target).closest(".control").removeClass("has-error")}),j("init")}};b.ajaxForm=a,b.fn.ajaxform=function(g){return b(this).each(function(){var e=b(this);a(e,b.extend(e.data(),g))})},b(function(){b(".ajaxform").ajaxform()})}(CoreLib,window,void 0);
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(Zepto)}(function(h){function m(b){return b}function l(b){return decodeURIComponent(b.replace(g," "))}function k(d){0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return j.json?JSON.parse(d):d}catch(c){}}var g=/\+/g,j=h.cookie=function(A,z,y){var x,w,u,t,s,f,e,d,c,a;if(void 0!==z){return y=h.extend({},j.defaults,y),"number"==typeof y.expires&&(x=y.expires,w=y.expires=new Date,w.setDate(w.getDate()+x)),z=j.json?JSON.stringify(z):String(z),document.cookie=[j.raw?A:encodeURIComponent(A),"=",j.raw?z:encodeURIComponent(z),y.expires?"; expires="+y.expires.toUTCString():"",y.path?"; path="+y.path:"",y.domain?"; domain="+y.domain:"",y.secure?"; secure":""].join("")}for(u=j.raw?m:l,t=document.cookie.split("; "),s=A?void 0:{},f=0,e=t.length;e>f;f++){if(d=t[f].split("="),c=u(d.shift()),a=u(d.join("=")),A&&A===c){s=k(a);break}A||(s[c]=k(a))}return s};j.defaults={},h.removeCookie=function(a,d){return void 0!==h.cookie(a)?(h.cookie(a,"",h.extend({},d,{expires:-1})),!0):!1}});function createLink(d,b,e,a,c){if(!a){a=config.defaultView}if(!c){c=false}if(e){e=e.split("&");for(i=0;i<e.length;i++){e[i]=e[i].split("=")}}if(config.requestType!="GET"){if(config.requestType=="PATH_INFO"){link=config.webRoot+d+config.requestFix+b}if(config.requestType=="PATH_INFO2"){link=config.webRoot+"index.php/"+d+config.requestFix+b}if(e){for(i=0;i<e.length;i++){link+=config.requestFix+e[i][1]}}link+="."+a}else{link=config.router+"?"+config.moduleVar+"="+d+"&"+config.methodVar+"="+b+"&"+config.viewVar+"="+a;if(e){for(i=0;i<e.length;i++){link+="&"+e[i][0]+"="+e[i][1]}}}if((typeof(config.onlybody)!="undefined"&&config.onlybody=="yes")||c){var f=config.requestType!="GET"?"?onlybody=yes":"&onlybody=yes";link=link+f}return link}function selectLang(a){$.cookie("lang",a,{expires:config.cookieLife,path:config.webRoot});location.href=removeAnchor(location.href)}function selectTheme(a){$.cookie("theme",a,{expires:config.cookieLife,path:config.webRoot});location.href=removeAnchor(location.href)}function removeAnchor(a){pos=a.indexOf("#");if(pos>0){return a.substring(0,pos)}return a}function initSortPanel(){var d=$("#sortTrigger");if(!d.length){return}var c=$("#page > .box > .table tr");if(!c.length){return d.addClass("hidden")}var b=$("#sortPanel");if(b.length){var e=b.children(".SortUp, .SortDown").first();var a=e.hasClass("SortUp")?"SortUp":"SortDown";d.removeClass("SortUp SortDown").addClass(a).find("span").text(e.text())}}(function(){var a=function(){var b=$(this);if(b.hasClass("avatar-no-fix")){return}var c=$.trim(b.text());if(c&&c.length>1){b.text(c.substring(0,1))}};$.fn.fixAvatar=function(){return this.each(a)};$(document).on("display.displayed",function(d,f,c,b){if(b&&b.$target){b.$target.find(".avatar").fixAvatar()}});$(function(){$(".avatar").fixAvatar()})})();$.refresh=function(b,c){if(b===true){b="body"}var a=$(b||"body");var d=$("<div/>");if(!c){c=a.data("refreshUrl")||a.parent().data("refreshUrl")||window.location.href}else{if(c.indexOf(" ")<1){c+=" body"}}d.load(c,function(){var e=d.find(b);a=a.replaceWith(e);e.find("[data-skin]").skin();e.find("[data-display]").display();e.find(".avatar").fixAvatar();e.find(".nav-auto").navAuto()})};$.Display.plugs({_listAction:function(a){return $.extend(a,{targetDismiss:true,selector:a.selector||".item",trigger:"longTap"})},listAction:function(a){return $.extend(a,{backdrop:true,remote:false,load:false,target:a.actionsPanel||"#actionsPanel",show:function(d){var b=d.$target,c=$(d.element),e=c.data("actions");b.css("pointerEvents","none").children(".item").each(function(){var f=$(this),g=e[f.data("action")];if(g){f.removeClass("disabled").attr({disabled:null,"data-href":g}).data("remote",g);if(f.data("refresh")){f.data({refresh:'[data-id="'+c.data("id")+'"]'})}if(f.data("ajaxDelete")){f.data({ajaxDelete:'[data-id="'+c.data("id")+'"]'})}}else{f.addClass("disabled").attr("disabled","disabled")}});b.children(".selected").replaceWith(c.clone().attr("data-id","").addClass("selected"));setTimeout(function(){b.css("pointerEvents","auto")},1000)}})},ajaxAction:function(b){var a=$(b.element);var b=$.Display.plugs.messager.call(this,b);var d=b.template;var c=b.ajaxDelete;return $.extend(b,{confirm:b.confirm!==undefined?b.confirm:(b.ajaxDelete?lang.confirmDelete:false),remoteType:"json",show:function(e){return !e.confirm||confirm(e.confirm)},template:function(f,g){var j=$.extend(g,f);var e=j.result==="success";if(e){if(j.refresh){$.refresh(j.refresh,j.refreshUrl)}if(j.ajaxDelete){$(j.ajaxDelete).remove()}if($.isFunction(j.success)){j.success(f)}}var h=j.locate;if(j.resetLocate!==undefined){h=j.resetLocate}if(h){setTimeout(function(){if(h==="self"){window.location.reload()}else{if(j.locateDisplay=="modal"){var k=new $.Display({display:"modal"});k.show({remote:h,placement:"bottom"})}else{window.location.href=h}}},1500)}return j.message?d(j.message,$.extend(j,{type:e?"success":"danger",icon:e?"ok-sign":"exclamation-sign"})):false},remoteError:function(){return{result:"fail",message:lang.timeout||"Network error."}}})}});function disableContextMenu(a){(a||$(".no-contextmenu")).on("contextmenu",function(b){b.preventDefault();b.returnValue=false;return false})}function initListWithPager(a){(a||$(".list-with-pager")).on($.TapName,".pager-more",function(){var c=$(this);if(c.hasClass("loading")){return}c.addClass("loading loading-light");var b=$("<div/>");b.load(c.data("more")+" .list-with-pager",function(e){var d=b.find(".list");d.children(".item").each(function(){var g=$(this);var f=$('[data-id="'+g.data("id")+'"]');if(f.length){f.replaceWith(g.clone());g.remove()}});c.parent().before(b.find(".list"));c.replaceWith(b.find(".pager-more"))})})}(function(){$.fn.reverseOrder=function(){return this.each(function(){$(this).prependTo($(this).parent())})};$(function(){$(document).on($.TapName,'[data-toggle="reverse"]',function(){var a=$(this);$(a.data("target")).reverseOrder();a.find(".icon-sort-by-order, .icon-sort-by-order-alt").toggleClass("icon-sort-by-order").toggleClass("icon-sort-by-order-alt")})})})();(function(){$.fn.modalForm=function(a){return $(this).each(function(){var b=$(this);var c=$.extend(b.data(),a);if(!c.onResult&&!c.onSuccess&&!c.onComplete){c.onSuccess=function(d){if(d.result==="success"){$.Display.dismiss();d.locate=false;if(c.formRefresh){$.refresh(c.formRefresh)}if(c.displayFrom){$.Display.all[c.displayFrom].show()}b.find("[data-default-val]").each(function(){var e=$(this);e.val(e.data("defaultVal"))})}}}$.ajaxForm(b,c)})};$(function(){$(".modal-form").modalForm()});$(document).on("display.displayed",function(c,d,b,a){if(a&&a.$target){a.$target.find(".modal-form").modalForm()}})})();(function(){var a=$(window).width();$.fn.navAuto=function(b){return $(this).each(function(){var c=$(this),d=0;c.children("a").each(function(){d+=$(this).width()});c.toggleClass("justified",d<a)})};$(function(){$(".nav-auto").navAuto()})})();$(function(){$(document).on($.TapName,"[data-submit]",function(){$($(this).data("submit")).submit()});var a=$(window).width();$(".headline.indent-auto").each(function(){var b=$(this);b.toggleClass("indent",($.trim(b.text()).length*20+100)<a)});if(window.webkit&&window.webkit.messageHandlers.App){window.App={};window.App.setAccentColor=function(b){window.webkit.messageHandlers.App.postMessage({method:"setAccentColor",color:b})}}$(document).on($.TapName,".table tr",function(b){if($(b.target).closest("a").length){return}if($(this).data("url")){window.location=$(this).data("url")}})});$(function(){if(typeof wx==="undefined"){return}wx.config({debug:false,appId:v.appId,timestamp:iitimestamp,nonceStr:v.nonceStr,signature:v.signature,jsApiList:["checkJsApi","chooseImage","scanQRCode"]});wx.ready(function(){$(document).on($.TapName,".scanQRCode",function(){wx.scanQRCode({desc:"scanQRCode desc",needResult:0,scanType:["qrCode","barCode"],success:function(a){alert(a.errMsg)},error:function(a){if(a.errMsg.indexOf("function_not_exist")>0){alert("版本过低请升级")}}})});$(document).on($.TapName,".chooseImage",function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(a){wx.uploadImage({localId:a.localIds[0],isShowProcess:1,success:function(d){var c=window.btoa(d.serverId);var b=$(".chooseImage").data("url").replace("imageID",c);$.getJSON(b,function(e){alert(e.message)})}})}})})})});function fixAppnav(){var a=$(window).width();var b=0;$("#appnav a").each(function(){b+=$(this).width()});if(b>a){$("#appnav a.moreAppnav").removeClass("hidden");var c=$("#appnav > a").not(".moreAppnav").last();c.addClass("item").css("display",c.css("display"));$("#moreAppnav").prepend("<div class='divider no-margin'></div>");$("#moreAppnav").prepend(c);fixAppnav()}}function fixMenu(){var a=$(window).width();var b=0;$("#menu a").each(function(){b+=$(this).width()});if($("#menu select").length>0){b+=$("#menu select").width()}if($("#menu #dateBox").length>0){b+=$("#menu #dateBox").width()}if(b>a){$("#menu a.moreMenu").removeClass("hidden");var c=$("#menu > a").not(".moreMenu").last();c.addClass("item").css("display",c.css("display"));$("#moreMenu").prepend("<div class='divider no-margin'></div>");$("#moreMenu").prepend(c);fixMenu()}}function setMailto(a,b){link=createLink("user","ajaxGetContactUsers","listID="+b);$.get(link,function(c){$("#"+a).replaceWith(c)})}function showSearchMenu(d,e,f,b,g){var h=d=="branch"?"currentBranch":"currentItem";var c=$("#"+h+"DropMenu");var j=function(l,p,o){var n=$.trim(o.val());l.removeClass("searching");p.removeClass("active");if(n!==null&&n.length){p.removeClass("show-search");l.addClass("searching");var m=n.length>1&&(n[0]===":"||n[0]==="@"||n[0]==="#");p.each(function(){var q=$(this);var r=q.data();r.key=(r.key||"")+q.text();r.tag=(r.tag||"")+"#"+r.id;if((m&&r.tag.indexOf(n)>-1)||r.key.indexOf(n)>-1){q.addClass("show-search")}});var k=p.filter(".show-search");if(!k.filter(".active").length){k.first().addClass("active")}}};if(!c.data("initData")){var a=createLink(d,"ajaxGetDropMenu","objectID="+e+"&module="+f+"&method="+b+"&extra="+g);$.get(a,function(k){c.html(k);dropMenuDisplay=new $.Display({display:"modal",source:c.html(),placement:"top"});dropMenuDisplay.show(function(){var m=$(".display.modal.in");var n=m.find("#search");var o=m.find("#searchResult .list > .item");var l=null;n.on("change keyup paste input propertychange",function(){clearTimeout(l);l=setTimeout(j(m,o,n),100)}).focus()})});c.data("initData",true)}else{dropMenuDisplay=new $.Display({display:"modal",source:c.html(),placement:"top"});dropMenuDisplay.show(function(){var l=$(".display.modal.in");var m=l.find("#search");var n=l.find("#searchResult .list > .item");var k=null;m.on("change keyup paste input propertychange",function(){clearTimeout(k);k=setTimeout(j(l,n,m),100)}).focus()})}$("#"+h).on("click",function(k){k.stopPropagation()})}function setImageSize(b,a){if(!a){bodyWidth=$("body").width();a=bodyWidth-470}if($(b).width()>a){$(b).attr("width",a)}$(b).wrap('<a href="'+$(b).attr("src")+'" target="_blank"></a>')}function adjustHeaderTitleWidth(){var a=$("#appbar").width()-44*2-30;if($("#appbar #headerTitle").width()>a){$("#appbar #headerTitle").width(a).css({overflow:"hidden","text-overflow":"ellipsis"})}}function showSearchObjectID(){var c=/[^0-9]/;var e=$("#searchBox");var d=e.children(".dropdown-search-menu");var a=e.find("#words");var b=$("#searchType").val();var f=function(){var h=a.val();d.addClass("hidden");if(h!==null&&h!==""){var g=!c.test(h);d.toggleClass("show-quick-go",g);if(g){d.removeClass("with-active").find("li > a").each(function(){var k=$(this);var j=k.data("value")===b&&b!=="all";k.closest("li").toggleClass("active",j);k.html(k.data("name")+" <span>#"+(h.length>4?(h.substr(0,4)+"..."):h)+"</span>");if(j){d.addClass("with-active")}});d.removeClass("hidden")}}};d.on("click","a",function(g){self.location.href=createLink($(this).data("value"),"view","id="+a.val());g.stopPropagation()}).find("li > a").each(function(){var g=$(this);g.attr("data-name",g.text())});a.on("change keyup paste input propertychange",f).on("focus",function(){setTimeout(f,300)})}function computePasswordStrength(b){if(b.length==0){return 0}var h=0;var e=b.length;var c="";var a=new Array();for(i=0;i<e;i++){letter=b.charAt(i);var d=letter.charCodeAt();if(d>=48&&d<=57){a[2]=2}else{if((d>=65&&d<=90)){a[1]=2}else{if(d>=97&&d<=122){a[0]=1}else{a[3]=3}}}if(c.indexOf(letter)==-1){c+=letter}}if(c.length>4){h+=c.length-4}var g=0;var f=0;for(i in a){f+=1;g+=a[i]}h+=g+(2*(f-1));if(e<6&&h>=10){h=9}h=h>29?29:h;h=Math.floor(h/10);return h}function setPing(){$("#hiddenwin").attr("src",createLink("misc","ping"))}needPing=true;$(function(){$(document).on($.TapName,".lang-menu > a",function(){selectLang($(this).data("value"))});if(needPing){setTimeout("setPing()",1000*60*10)}showSearchObjectID();adjustHeaderTitleWidth();initSortPanel();disableContextMenu();initListWithPager();fixAppnav();fixMenu()});